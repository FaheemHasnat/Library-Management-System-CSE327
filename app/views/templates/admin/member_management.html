{% extends "base.html" %}

{% block title %}Member Management - Admin Dashboard{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin_dashboard.css') }}">
{% endblock %}

{% block content %}
<div class="admin-wrapper">
    <header class="admin-header">
        <div class="container">
            <nav class="admin-nav">
                <a href="{{ url_for('admin_dashboard') }}" class="admin-logo">
                    <div class="admin-logo-icon">LMS</div>
                    Library Management System
                </a>
                
                <div class="admin-user">
                    <div class="admin-user-info">
                        <div class="admin-user-name">{{ user_name }}</div>
                        <div class="admin-user-role">Administrator</div>
                    </div>
                    <a href="{{ url_for('logout') }}" class="admin-logout-btn">Logout</a>
                </div>
            </nav>
        </div>
    </header>

    <main class="admin-main">
        <div class="container">
            <div class="admin-content">
                <section class="admin-welcome">
                    <h1 class="admin-welcome-title">👥 Member Management</h1>
                    <p class="admin-welcome-subtitle">Manage library members, registrations, and user accounts</p>
                    <a href="{{ url_for('admin_dashboard') }}" class="admin-welcome-badge">← Back to Dashboard</a>
                </section>

                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                            <div class="alert alert-{{ 'error' if category == 'error' else category }}">
                                {{ message }}
                            </div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}

                <section class="admin-quick-nav">
                    <h2 class="admin-quick-nav-title">Member Management Operations</h2>
                    <div class="admin-nav-grid">
                        <a href="{{ url_for('admin_add_member') }}" class="admin-nav-item">
                            <div class="admin-nav-icon members">👤</div>
                            <div class="admin-nav-title">Add Member</div>
                        </a>
                        
                        <a href="{{ url_for('admin_view_all_members') }}" class="admin-nav-item">
                            <div class="admin-nav-icon books">📋</div>
                            <div class="admin-nav-title">View All Members</div>
                        </a>
                        
                        <a href="{{ url_for('admin_edit_member') }}" class="admin-nav-item">
                            <div class="admin-nav-icon status">✏️</div>
                            <div class="admin-nav-title">Edit Member</div>
                        </a>
                        
                        <a href="{{ url_for('admin_delete_member') }}" class="admin-nav-item">
                            <div class="admin-nav-icon fines">�️</div>
                            <div class="admin-nav-title">Delete Member</div>
                        </a>
                    </div>
                </section>

                <section class="admin-stats-grid">
                    <div class="admin-fines-card">
                        <h3 class="admin-fines-title">
                            <div class="admin-fines-icon">👥</div>
                            Member Statistics
                        </h3>
                        <div class="admin-fines-amount">{{ total_members }}</div>
                        <div class="admin-progress-text">Total registered members</div>
                    </div>

                    <div class="admin-notifications">
                        <h3 class="admin-notifications-title">
                            <div class="admin-notifications-icon">📊</div>
                            Member Distribution
                        </h3>
                        <div class="admin-notification-item">
                            <div class="admin-notification-text">Students: {{ student_count }}</div>
                            <div class="admin-notification-time">Active student accounts</div>
                        </div>
                        <div class="admin-notification-item">
                            <div class="admin-notification-text">Librarians: {{ librarian_count }}</div>
                            <div class="admin-notification-time">Library staff accounts</div>
                        </div>
                        <div class="admin-notification-item">
                            <div class="admin-notification-text">Admins: {{ admin_count }}</div>
                            <div class="admin-notification-time">Administrator accounts</div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</div>
{% endblock %}
